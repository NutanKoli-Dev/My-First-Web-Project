<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neo AI Companion</title>
    <style>
        body { background: #020617; margin: 0; display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100vh; overflow: hidden; font-family: 'Segoe UI', sans-serif; }
        
        /* Neon Robot Design */
        .neo-box { position: relative; width: 220px; height: 300px; animation: float 3s infinite ease-in-out; display: flex; flex-direction: column; align-items: center; cursor: pointer; }
        
        .head { width: 180px; height: 160px; background: #1e293b; border: 4px solid #0ea5e9; border-radius: 80px 80px 40px 40px; box-shadow: 0 0 30px #0369a1; z-index: 10; display: flex; justify-content: center; align-items: center; overflow: hidden; }
        .screen { width: 90%; height: 85%; background: #000; border-radius: 40px; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        
        .eyes { display: flex; gap: 35px; }
        .eye { width: 28px; height: 28px; background: #0ea5e9; border-radius: 50%; box-shadow: 0 0 15px #0ea5e9; transition: 0.2s; }
        .mouth { width: 45px; height: 10px; border: 3px solid #0ea5e9; border-top: 0; border-radius: 0 0 20px 20px; margin-top: 15px; visibility: hidden; }

        .hand { width: 35px; height: 55px; background: #1e293b; border: 3px solid #0ea5e9; border-radius: 20px; position: absolute; top: 130px; z-index: 5; transition: 0.4s; }
        .l-hand { left: -10px; transform: rotate(-10deg); }
        .r-hand { right: -10px; transform: rotate(10deg); }

        .torso { width: 140px; height: 100px; background: #1e293b; border: 4px solid #0ea5e9; border-radius: 50px 50px 90px 90px; margin-top: -35px; box-shadow: 0 10px 20px rgba(0,0,0,0.5); }

        /* Animation States */
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
        .is-talking .mouth { visibility: visible; animation: talk 0.2s infinite; }
        .is-talking .l-hand { transform: translateY(-20px) rotate(-30deg); }
        .is-talking .r-hand { transform: translateY(-20px) rotate(30deg); }
        .is-crying .eye { height: 5px; background: #ef4444; box-shadow: 0 0 15px #ef4444; }
        @keyframes talk { 0% { height: 5px; } 100% { height: 15px; } }

        #btn { margin-top: 40px; padding: 12px 25px; border: 2px solid #0ea5e9; background: transparent; color: #0ea5e9; border-radius: 30px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        #btn:hover { background: #0ea5e9; color: white; box-shadow: 0 0 20px #0ea5e9; }
    </style>
</head>
<body>

    <div class="neo-box" id="neo" onclick="checkHit()">
        <div class="head">
            <div class="screen">
                <div class="eyes">
                    <div class="eye"></div>
                    <div class="eye"></div>
                </div>
                <div class="mouth"></div>
            </div>
        </div>
        <div class="hand l-hand"></div>
        <div class="hand r-hand"></div>
        <div class="torso"></div>
    </div>

    <button id="btn" onclick="startListening()">Tap to Wake Neo</button>

    <script>
        let hitCount = 0;
        let lastTap = 0;

        function checkHit() {
            let now = Date.now();
            if (now - lastTap < 400) {
                hitCount++;
                if (hitCount > 2) {
                    moodReact("is-crying", "Aiyoo! Mamma, itna zor se kyun maara? Mujhe dard ho raha hai!");
                    hitCount = 0;
                }
            } else {
                hitCount = 0;
                moodReact("is-happy", "Hehehe! Gudgudi ho rahi hai! Aur karo na!");
            }
            lastTap = now;
        }

        function moodReact(className, text) {
            const neo = document.getElementById('neo');
            neo.classList.add(className);
            speak(text);
            setTimeout(() => neo.classList.remove(className), 3000);
        }

        function startListening() {
            const SpeechRec = window.SpeechRecognition || window.webkitSpeechRecognition;
            if (!SpeechRec) return alert("Browser voice support nahi karta!");
            
            const rec = new SpeechRec();
            rec.lang = 'hi-IN';
            document.getElementById('btn').innerText = "Listening...";

            rec.onresult = (e) => {
                const text = e.results[0][0].transcript.toLowerCase();
                if (text.includes("neo")) {
                    speak("Ji Mamma? Main sun raha hoon, kahiye kya baat hai?");
                } else {
                    speak("Hmm, bahut sahi! Aur sunaiye...");
                }
            };
            rec.onend = () => document.getElementById('btn').innerText = "Tap to Wake Neo";
            rec.start();
        }

        function speak(text) {
            window.speechSynthesis.cancel();
            const msg = new SpeechSynthesisUtterance(text);
            msg.lang = 'hi-IN';
            msg.pitch = 1.9; 
            msg.onstart = () => document.getElementById('neo').classList.add('is-talking');
            msg.onend = () => document.getElementById('neo').classList.remove('is-talking');
            window.speechSynthesis.speak(msg);
        }
    </script>
</body>
</html>
